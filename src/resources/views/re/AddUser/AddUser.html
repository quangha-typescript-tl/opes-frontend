<div class="mt-3">
  <PageHeader :title="'Add User'" />


  <table class="table table-bordered mt-4">
    <thead class="thead-light">
    <tr>
      <th width="1">#</th>
      <th width="20%">User Name</th>
      <th width="20%">Email</th>
      <th width="10%">Department</th>
      <th width="150">Action</th>
    </tr>
    </thead>
    <tbody>
    <tr v-for="(item, index) in items" :key="index">
      <td>{{ index + 1 }}</td>
      <td :class="{'has-danger': errors.has('userName' + index)}">
        <span v-show="errors.has('userName' + index)" class="text-danger fs14">{{ errors.first('userName' + index) }}</span>
        <input class="form-control form-control-sm" v-model="item.userName" v-validate="'required'" :name="'userName' + index">
      </td>
      <td :class="{'has-danger': errors.has('email' + index)}">
        <span v-show="errors.has('email' + index)" class="text-danger fs14">{{ errors.first('email' + index) }}</span>
        <input class="form-control form-control-sm" v-model="item.email" v-validate="'required|email'" :name="'email' + index">
      </td>
      <td>
        <input class="form-control form-control-sm" v-model="item.department">
      </td>
      <td>
        <button class="btn btn-sm btn-secondary mr-2" @click="removeUser(index)" >Remove</button>
        <button class="btn btn-sm btn-success mr-2" @click="saveUser(item)">Save</button>
      </td>
    </tr>
    </tbody>
  </table>

  <div class="col-3 offset-9 text-right my-3">
    <button @click="addUser" class="btn btn-sm btn-info">Add Department</button>
  </div>
</div>
